var Validator=function(){"use strict";var e=function(e,t){for(var r in t)e=e.replace("%"+r+"%",t[r]);return e},t=function(e){if(!e||!e.tagName)return!1;var t=e.tagName.toLowerCase();return"input"===t||"textarea"===t},r=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var i=arguments[t];if(i)for(var a in i)i.hasOwnProperty(a)&&("object"==typeof i[a]?e[a]=r(e[a],i[a]):e[a]=i[a])}return e},i={email:/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,url:/^((https?):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,numbers:/^\d+(\.\d{1,2})?$/,digit:/[0-9]*$/,letters:/[a-z][A-Z]*$/},a={required:"This field is required",min:"This field should contain at least %rule% characters",max:"This field should not contain more than %rule% characters",match:"This field shold countain a valid %rule%"},n=function(e,n){if(!t(e))throw new Error("Only value from <input> and <textarea> can be validated");if(!n.rules||0===Object.keys(n.rules).length)throw new Error("No rules for validation were passed to Validator function");var s={regExps:i,messages:a};this.options=r({},s,n),this.element=e,this.regExps=i},s=n.prototype;return s.validate=function(){var t=!0;this.value=this.element.value;for(var r in this.options.rules){var i=this[r];if(!i||"function"!=typeof i)throw new Error("Rule "+r+" can't be evaluated. It is not predefined. You can create it yourself with Validator.fn");var a=this.options.rules[r];if(!this[r](a)){t=!1,this.message=e(this.options.messages[r],{rule:a,data:this.value}),this.options.onError.call(this);break}}t&&this.options.onSuccess.call(this)},s.required=function(){return this.value.trim().length>0},s.min=function(e){return this.value.length>=e},s.max=function(e){return this.value.length<=e},s.match=function(e){var t=this.regExps[e];return t?this.regExps[e].test(this.value):(console.warn("There are no such predefined regexp: "+e+". All predefined regExps are: "+Object.keys(this.options.regExps).join(", ")+". Data is assumed to be valid."),!0)},{init:n,fn:s}}();