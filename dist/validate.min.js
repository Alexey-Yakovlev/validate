!function(){"use strict";var t=function(t){return"string"==typeof t?"#"===t.charAt(0)?document.getElementById(t.slice(1)):document.querySelector(t):t},s=function(t){return"string"==typeof t?t.trim().length>0:!1},e=function(t){return"number"==typeof t&&!isNaN(t)},r=function(t){return Array.isArray(t)},n=function(t){return t instanceof RegExp},i=function(t){for(var s=arguments.length,e=1;s>e;e+=1){var r=arguments[e];if(r&&_isObject(r))for(var n in r)t.hasOwnProperty(n)&&_isObject(r[n])?i(t[n],r[n]):t[n]=r[n]}return t},o=function(t,r){return e(r)&&(r=r.toString()),s(t)&&s(r)?t.replace("%s",r):t},a=function(t,s,e){var r=document.createElement(t);return r.className=s,r.textContent=e,r},u=function(t,s,e){return t.classList.remove(s),t.classList.add(e),t},h=function(t){return this.value.indexOf(t)>-1},c=function(s,e){this.settings={messages:{min:"This field should contain at least %s charachters",max:"This field should not contain more than %s charachters",required:"This field is required",match:'This field should match this pattern "%s"',contain:"This field sholud contain these charachters %s"},regexps:{ip:/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,url:/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,date:/\d{1,2}-|.\d{1,2}-|.\d{4}/,base64:/[^a-zA-Z0-9\/\+=]/i,email:/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i},classes:{message:"iv-message",errorsContainer:"iv-errors-container",inputSuccess:"iv-success",inputError:"iv-error"}},i(this.settings,e),this.input=t(s),this.value=this.input.value,this.errors=[],this.input.parentNode.querySelector("."+this.settings.classes.errorsContainer)?(this.errorsContainer=this.input.parentNode.querySelector("."+this.settings.classes.errorsContainer),this.errorsContainer.innerHTML=""):(this.errorsContainer=document.createElement("div"),this.errorsContainer.classList.add(this.settings.classes.errorsContainer),this.input.parentNode.insertBefore(this.errorsContainer,this.input))};c.prototype.test=function(t,s){return t.call(this)||this.errors.push(s),this},c.prototype.required=function(t){return t=t||this.settings.messages.required,this.test(function(){return this.value.toString().trim().length>0},t)},c.prototype.min=function(t,s){return s=s||this.settings.messages.min,this.test(function(){return this.value.length>=t},o(s,t))},c.prototype.max=function(t,s){return s=s||this.settings.messages.max,this.test(function(){return this.value.length<=t},o(s,t))},c.prototype.match=function(t,s){s=s||this.settings.messages.match;var e;if(n(t))e=t;else{if(!this.settings.regexps[t])return console.warn("Match method works only with regular expression or one of these presets: "+Object.keys(this.settings.regexps).join(", ")),this;e=this.settings.regexps[t]}return this.test(function(){return this.settings.regexps[t].test(this.value)},o(s,t))},c.prototype.contain=function(t,s){return s=s||this.settings.messages.contain,this.test(function(){return r(t)?t.every(h,this):h.call(this,t)},o(s,r(t)?t.join(", "):t))},c.prototype.showErrors=function(t){return this.errorsContainer.innerHTML="",e(t)?this.errorsContainer.appendChild(a("p",this.settings.classes.message,this.errors[t])):this.errors.forEach(function(t){this.errorsContainer.appendChild(a("p",this.settings.classes.message,t))},this),this},c.prototype.isValid=function(){return 0===this.errors.length},c.prototype.clear=function(){return this.errors=[],this},c.prototype.error=function(){return u(this.input,this.settings.classes.inputSuccess,this.settings.classes.inputError),this},c.prototype.success=function(){return u(this.input,this.settings.classes.inputError,this.settings.classes.inputSuccess),this},c.prototype.onError=function(t){return t=t||function(){},this.isValid()||t.call(this),this},c.prototype.onSuccess=function(t){return t=t||function(){},this.isValid()&&t.call(this),this};var p=function(t){return new c(t)};window.validate=p}();